<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>Wind Turbine | Dashboard</title>

        <link rel="icon" href="{{url_for('static', filename = '/img/core-img/turbine.ico')}}">

        <link href="{{url_for('static', filename = '/css/style.css')}}" rel="stylesheet">

        <link href="{{url_for('static', filename = '/css/bootstrap/bootstrap.min.css')}}" rel="stylesheet">
        <link href="{{url_for('static', filename = '/css/others/animate.css')}}" rel="stylesheet">
        <link href="{{url_for('static', filename = '/css/others/magnific-popup.css')}}" rel="stylesheet">
        <link href="{{url_for('static', filename = '/css/others/owl.carousel.min.css')}}" rel="stylesheet">
        <link href="{{url_for('static', filename = '/css/others/font-awesome.min.css')}}" rel="stylesheet">
        <link href="{{url_for('static', filename = '/css/others/elegant-font.css')}}" rel="stylesheet">
        <link href="{{url_for('static', filename = '/css/others/themify-icons.css')}}" rel="stylesheet">
        <script src="https://kit.fontawesome.com/a076d05399.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.11/typed.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"/>
        <link href="{{url_for('static', filename = '/css/responsive/responsive.css')}}" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">

        <script src="{{url_for('static', filename = '/js/script.js')}}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.0.0-alpha/Chart.min.js"></script>

        <script src="https://unpkg.com/chart.js@2.8.0/dist/Chart.bundle.js"></script>
        <script src="https://unpkg.com/chartjs-gauge@0.3.0/dist/chartjs-gauge.js"></script>

        <style>
            canvas {
                -moz-user-select: none;
                -webkit-user-select: none;
                -ms-user-select: none;
            }
        </style>

        <script src="https://cdn.fusioncharts.com/fusioncharts/latest/fusioncharts.js"></script>
	    <script src="https://cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.fusion.js"></script>
    </head>

    <body>

        <div class="scroll-up-btn">
            <i class="fa-sharp fa-regular fa-arrow-up"></i>
        </div>
        <nav class="navbar">
            <div class="max-width">
                <div class="logo"><a href="#">Dash<span>board</span></a></div>
                <ul class="menu">
                    <li><a href="{{url_for('index')}}" class="menu-btn">Log Out</a></li>
                </ul>
                <div class="menu-btn">
                    <i class="fa-solid fa-bars"></i>
                </div>
            </div>
        </nav>

        {% if temperature_one >= max_temp or temperature_two >= max_temp or temperature_three >= max_temp or temperature_four >= max_temp or temperature_five >= max_temp or temperature_six >= max_temp or temperature_seven >= max_temp or temperature_eight >= max_temp or humidity_one >= max_humidity or humidity_two >= max_humidity or humidity_three >= max_humidity or humidity_four >= max_humidity or humidity_five >= max_humidity or humidity_six >= max_humidity or humidity_seven >= max_humidity or humidity_eight >= max_humidity or vibration_one >= max_vibration or vibration_two >= max_vibration or vibration_three >= max_vibration or vibration_four >= max_vibration or vibration_five >= max_vibration or vibration_six >= max_vibration or vibration_seven >= max_vibration or vibration_eight >= max_vibration or speed_one >= max_speed or speed_two >= max_speed or speed_three >= max_speed or speed_four >= max_speed or speed_five >= max_speed or speed_six >= max_speed or speed_seven >= max_speed or speed_eight >= max_speed %}
            <section class="notifications" id="temperature">
                <div class="max-width">
                    <h2 class="title">Notifications</h2>
                </div>
            </section>

            <section class="fancy-about-us-area bg-gray">
                <div class="container">
                    <div class="row">
                        <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Variable</th>
                                <th scope="col">Types of Faults</th>
                                <th scope="col">Diagnosis</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% if temperature_one >= max_temp or temperature_two >= max_temp or temperature_three >= max_temp or temperature_four >= max_temp or temperature_five >= max_temp or temperature_six >= max_temp or temperature_seven >= max_temp or temperature_eight >= max_temp %}
                                <tr>
                                    <th scope="row">High Temperature</th>
                                    <td>Faults on bearings</td>
                                    <td>May be caused by overheating of turbine and premature wear caused by unpredictable stress or a faulty sensor.</td>
                                </tr>
                            {% endif %}
                            {% if humidity_one >= max_humidity or humidity_two >= max_humidity or humidity_three >= max_humidity or humidity_four >= max_humidity or humidity_five >= max_humidity or humidity_six >= max_humidity or humidity_seven >= max_humidity or humidity_eight >= max_humidity %}
                                <tr>
                                    <th scope="row">High Humidity</th>
                                    <td>Faults on electrical systems</td>
                                    <td>May be caused by corrosion of traces, oil leakages or a faulty sensor.</td>
                                </tr>
                            {% endif %}
                            {% if vibration_one >= max_vibration or vibration_two >= max_vibration or vibration_three >= max_vibration or vibration_four >= max_vibration or vibration_five >= max_vibration or vibration_six >= max_vibration or vibration_seven >= max_vibration or vibration_eight >= max_vibration %}
                                <tr>
                                    <th scope="row">High Vibrations</th>
                                    <td>Faults on gearbox</td>
                                    <td>May be caused by excessive vibrations of generator, misaligned blades and rotors or a faulty sensor.</td>
                                </tr>
                            {% endif %}
                            { if speed_one >= max_speed or speed_two >= max_speed or speed_three >= max_speed or speed_four >= max_speed or speed_five >= max_speed or speed_six >= max_speed or speed_seven >= max_speed or speed_eight >= max_speed %}
                                <tr>
                                    <th scope="row">Excessive Speeding</th>
                                    <td>Faults on mechanical braking system</td>
                                    <td>May be caused by hydraulic failures, coupling failures or a faulty sensor.</td>
                                </tr>
                            {% endif %}
                        </tbody>
                        </table>
                    </div>
                </div>
            </section>
        {% endif %}

        <section class="temperature" id="temperature">
            <div class="max-width">
                <h2 class="title">Temperature</h2>
            </div>
        </section>

        <div class="column right">
            <div class="container" style="width: 45%;">
                <canvas id="myChartone" width="200" height="200"></canvas>
            </div>
        </div>

        <section class="humidity" id="humidity">
            <div class="max-width">
                <h2 class="title">Humidity</h2>
            </div>
        </section>

        <div class="column right">
            <div class="container" style="width: 45%;">
                <canvas id="myCharttwo" width="200" height="200"></canvas>
            </div>
        </div>

        <section class="vibration" id="vibration">
            <div class="max-width">
                <h2 class="title">Vibration</h2>
            </div>
        </section>

        <div class="column right">
            <div class="container" style="width: 45%;">
                <canvas id="myChartthree" width="200" height="200"></canvas>
            </div>
        </div>

        <section class="speed" id="speed">
            <div class="max-width">
                <h2 class="title">Speed</h2>
            </div>
        </section>

        <div class="column right">
            <div class="container" style="width: 45%;">
                <canvas id="myChartfour" width="200" height="200"></canvas>
            </div>
        </div>

         <!-- footer section start -->
        <footer>
            <span>Tapiwanashe Makani <a href="#">N0189434W</a></span>
        </footer>

        <script>
            var date_one = '{{date_one}}';
            var date_two = '{{date_two}}';
            var date_three = '{{date_three}}';
            var date_four = '{{date_four}}';
            var date_five = '{{date_five}}';
            var date_six = '{{date_six}}';
            var date_seven = '{{date_seven}}';
            var date_eight = '{{date_eight}}';

            var temperature_one = '{{temperature_one}}';
            var temperature_two = '{{temperature_two}}';
            var temperature_three = '{{temperature_three}}';
            var temperature_four = '{{temperature_four}}';
            var temperature_five = '{{temperature_five}}';
            var temperature_six = '{{temperature_six}}';
            var temperature_seven = '{{temperature_seven}}';
            var temperature_eight = '{{temperature_eight}}';

            var humidity_one = '{{humidity_one}}';
            var humidity_two = '{{humidity_two}}';
            var humidity_three = '{{humidity_three}}';
            var humidity_four = '{{humidity_four}}';
            var humidity_five = '{{humidity_five}}';
            var humidity_six = '{{humidity_six}}';
            var humidity_seven = '{{humidity_seven}}';
            var humidity_eight = '{{humidity_eight}}';

            var vibration_one = '{{vibration_one}}';
            var vibration_two = '{{vibration_two}}';
            var vibration_three = '{{vibration_three}}';
            var vibration_four = '{{vibration_four}}';
            var vibration_five = '{{vibration_five}}';
            var vibration_six = '{{vibration_six}}';
            var vibration_seven = '{{vibration_seven}}';
            var vibration_eight = '{{vibration_eight}}';

            var speed_one = '{{speed_one}}';
            var speed_two = '{{speed_two}}';
            var speed_three = '{{speed_three}}';
            var speed_four = '{{speed_four}}';
            var speed_five = '{{speed_five}}';
            var speed_six = '{{speed_six}}';
            var speed_seven = '{{speed_seven}}';
            var speed_eight = '{{speed_eight}}';

            var max_speed = '{{max_speed}}';
            var max_temp = '{{max_temp}}';
            var max_humidity = '{{max_humidity}}';
            var max_vibration = '{{max_vibation}}';

            var ctd = document.getElementById('myChartone').getContext('2d');
            var myChartone = new Chart(ctd, {
                type: 'line',
                data: {
                labels: [date_eight, date_seven, date_six, date_five, date_four, date_three, date_two, date_one],
                datasets: [
                    {
                        label: "Turbine Temperature",
                        fill: true,
                        lineTension: 0.1,
                        backgroundColor: "rgba(75, 192, 192, 0.4)",
                        borderColor: "rgba(75, 192, 192, 1)",
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBorderColor: "rgba(75,192,192,1)",
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHitRadius: 10,
                        data: [temperature_eight, temperature_seven, temperature_six, temperature_five, temperature_four, temperature_three, temperature_two, temperature_one],
                    }, {
                        label: "Maximum Temperature",
                        fill: false,
                        lineTension: 0.5,
                        backgroundColor: "rgba(75, 192, 192, 0.4)",
                        borderColor: "rgb(255, 0, 0)",
                        borderCapStyle: 'butt',
                        borderDash: [10, 30],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBorderColor: "rgba(75,192,192,1)",
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHitRadius: 10,
                        data: [max_temp, max_temp, max_temp, max_temp, max_temp, max_temp, max_temp, max_temp],
                    }
                ]}
            });

            var cty = document.getElementById('myCharttwo').getContext('2d');
            var myCharttwo = new Chart(cty, {
                type: 'line',
                data: {
                labels: [date_eight, date_seven, date_six, date_five, date_four, date_three, date_two, date_one],
                datasets: [
                    {
                        label: "Turbine Humidity",
                        fill: true,
                        lineTension: 0.1,
                        backgroundColor: "rgba(75, 192, 192, 0.4)",
                        borderColor: "rgba(75, 192, 192, 1)",
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBorderColor: "rgba(75,192,192,1)",
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHitRadius: 10,
                        data: [humidity_eight, humidity_seven, humidity_six, humidity_five, humidity_four, humidity_three, humidity_two, humidity_one],
                    }, {
                        label: "Maximum Humidity",
                        fill: false,
                        lineTension: 0.5,
                        backgroundColor: "rgba(75, 192, 192, 0.4)",
                        borderColor: "rgb(255, 0, 0)",
                        borderCapStyle: 'butt',
                        borderDash: [10, 30],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBorderColor: "rgba(75,192,192,1)",
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHitRadius: 10,
                        data: [max_humidity, max_humidity, max_humidity, max_humidity, max_humidity, max_humidity, max_humidity, max_humidity],
                    }
                ]}
            });

            var ctm = document.getElementById('myChartthree').getContext('2d');
            var myChartthree = new Chart(ctm, {
                type: 'line',
                data: {
                labels: [date_eight, date_seven, date_six, date_five, date_four, date_three, date_two, date_one],
                datasets: [
                    {
                        label: "Turbine Vibration",
                        fill: true,
                        lineTension: 0.1,
                        backgroundColor: "rgba(75, 192, 192, 0.4)",
                        borderColor: "rgba(75, 192, 192, 1)",
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBorderColor: "rgba(75,192,192,1)",
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHitRadius: 10,
                        data: [vibration_eight, vibration_seven, vibration_six, vibration_five, vibration_four, vibration_three, vibration_two, vibration_one],
                    }, {
                        label: "Maximum Vibration",
                        fill: false,
                        lineTension: 0.5,
                        backgroundColor: "rgba(75, 192, 192, 0.4)",
                        borderColor: "rgb(255, 0, 0)",
                        borderCapStyle: 'butt',
                        borderDash: [10, 30],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBorderColor: "rgba(75,192,192,1)",
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHitRadius: 10,
                        data: [max_vibration, max_vibration, max_vibration, max_vibration, max_vibration, max_vibration, max_vibration, max_vibration],
                    }
                ]}
            });

            var ctt = document.getElementById('myChartfour').getContext('2d');
            var myChartthree = new Chart(ctt, {
                type: 'line',
                data: {
                labels: [date_eight, date_seven, date_six, date_five, date_four, date_three, date_two, date_one],
                datasets: [
                    {
                        label: "Turbine Speed",
                        fill: true,
                        lineTension: 0.1,
                        backgroundColor: "rgba(75, 192, 192, 0.4)",
                        borderColor: "rgba(75, 192, 192, 1)",
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBorderColor: "rgba(75,192,192,1)",
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHitRadius: 10,
                        data: [speed_eight, speed_seven, speed_six, speed_five, speed_four, speed_three, speed_two, speed_one],
                    }, {
                        label: "Maximum Speed",
                        fill: false,
                        lineTension: 0.5,
                        backgroundColor: "rgba(75, 192, 192, 0.4)",
                        borderColor: "rgb(255, 0, 0)",
                        borderCapStyle: 'butt',
                        borderDash: [10, 30],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBorderColor: "rgba(75,192,192,1)",
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHitRadius: 10,
                        data: [max_speed, max_speed, max_speed, max_speed, max_speed, max_speed, max_speed, max_speed],
                    }
                ]}
            });
        </script>
    </body>
</html>
